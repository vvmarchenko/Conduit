(this["webpackJsonpts-redux-react-realworld-example-app"]=this["webpackJsonpts-redux-react-realworld-example-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var r=n(56),a=n.n(r),c=(n(65),n(1)),i=n.n(c),s=n(6),o=n(41),u=n(4),l=n(7),d=n.n(l),p=n(3),b=n(12),j=n(9),m=n(5),f=n(2),h=Object(f.object)({username:f.string,bio:Object(f.nullable)(f.string),image:Object(f.nullable)(f.string),following:Object(f.either)(f.boolean,Object(f.hardcoded)(!1))}),g=Object(f.object)({slug:f.string,title:f.string,description:f.string,body:f.string,tagList:Object(f.array)(f.string),createdAt:f.iso8601,updatedAt:f.iso8601,favorited:f.boolean,favoritesCount:f.number,author:h}),O=Object(f.object)({articles:Object(f.array)(g),articlesCount:f.number}),x=Object(f.object)({id:f.number,createdAt:f.iso8601,updatedAt:f.iso8601,body:f.string,author:h}),v=Object(f.dict)(Object(f.array)(f.string)),y=n(22);function w(e){return Object.entries(e).map((function(e){var t=Object(y.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&")}var N,S=n(10),k={user:m.None,loading:!0},C=Object(S.b)({name:"app",initialState:k,reducers:{initializeApp:function(){return k},loadUser:function(e,t){var n=t.payload;e.user=Object(m.Some)(n),e.loading=!1},logout:function(e){e.user=m.None},endLoad:function(e){e.loading=!1}}}),F=C.actions,T=F.loadUser,A=F.logout,L=F.endLoad,P=(F.initializeApp,C.reducer),E={tags:m.None,selectedTab:"Global Feed"},I=Object(S.b)({name:"home",initialState:E,reducers:{startLoadingTags:function(){return E},loadTags:function(e,t){var n=t.payload;e.tags=Object(m.Some)(n)},changeTab:function(e,t){var n=t.payload;e.selectedTab=n}}}),z=I.actions,U=z.startLoadingTags,B=z.loadTags,D=z.changeTab,R=I.reducer,V={user:{email:"",password:""},errors:{},loginIn:!1},M=Object(S.b)({name:"login",initialState:V,reducers:{initializeLogin:function(){return V},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;e.user[r]=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.loginIn=!1},startLoginIn:function(e){e.loginIn=!0}}}),W=M.actions,Y=W.initializeLogin,G=W.updateField,H=W.updateErrors,J=W.startLoginIn,K=M.reducer,q=n(24),Q=n(106),X={user:{username:"",email:"",password:null,bio:null,image:null},errors:{},updating:!1},Z=Object(S.b)({name:"settings",initialState:X,reducers:{initializeSettings:function(){return X},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;e.user[r]=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.updating=!1},startUpdate:function(e){e.updating=!0}},extraReducers:(N={},Object(q.a)(N,T.type,(function(e,t){var n=t.payload;e.user=Object(s.a)(Object(s.a)({},Q.a("token")(n)),{},{password:null}),e.updating=!1})),Object(q.a)(N,A.type,(function(){return X})),N)}),$=Z.actions,_=($.initializeSettings,$.updateField),ee=$.updateErrors,te=$.startUpdate,ne=Z.reducer,re={user:{username:"",email:"",password:""},errors:{},signingUp:!1},ae=Object(S.b)({name:"register",initialState:re,reducers:{initializeRegister:function(){return re},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;e.user[r]=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.signingUp=!1},startSigningUp:function(e){e.signingUp=!0}}}),ce=ae.actions,ie=ce.initializeRegister,se=ce.updateField,oe=ce.updateErrors,ue=ce.startSigningUp,le=ae.reducer,de=n(107),pe={article:{title:"",body:"",tagList:[],description:""},tag:"",submitting:!1,errors:{},loading:!0},be=Object(S.b)({name:"editor",initialState:pe,reducers:{initializeEditor:function(){return pe},updateField:function(e,t){var n=t.payload,r=n.name,a=n.value;"tag"!==r?"tagList"!==r&&(e.article[r]=a):e.tag=a},updateErrors:function(e,t){var n=t.payload;e.errors=n,e.submitting=!1},startSubmitting:function(e){e.submitting=!0},addTag:function(e){e.tag.length>0&&(e.article.tagList.push(e.tag),e.tag="")},removeTag:function(e,t){var n=t.payload;e.article.tagList=de.a(n,1,e.article.tagList)},loadArticle:function(e,t){var n=t.payload;e.article=n,e.loading=!1}}}),je=be.actions,me=je.initializeEditor,fe=je.updateField,he=je.startSubmitting,ge=je.addTag,Oe=je.removeTag,xe=je.updateErrors,ve=je.loadArticle,ye=be.reducer,we=n(59),Ne=n(108),Se=n(110),ke={articles:m.None,currentPage:1,articlesCount:0},Ce=Object(S.b)({name:"articleViewer",initialState:ke,reducers:{startLoadingArticles:function(){return ke},loadArticles:function(e,t){var n=t.payload,r=n.articles,a=n.articlesCount;e.articles=Object(m.Some)(r.map((function(e){return{article:e,isSubmitting:!1}}))),e.articlesCount=a},startSubmittingFavorite:function(e,t){var n=t.payload;e.articles=e.articles.map(we.a(n,Ne.a("isSubmitting",!0)))},endSubmittingFavorite:function(e,t){var n=t.payload,r=n.article,a=n.index;e.articles=e.articles.map(Se.a(a,{article:r,isSubmitting:!1}))},changePage:function(e,t){var n=t.payload;e.currentPage=n,e.articles=m.None}}}),Fe=Ce.actions,Te=Fe.startLoadingArticles,Ae=Fe.loadArticles,Le=Fe.startSubmittingFavorite,Pe=Fe.endSubmittingFavorite,Ee=Fe.changePage,Ie=Ce.reducer,ze={profile:m.None,submitting:!1},Ue=Object(S.b)({name:"profile",initialState:ze,reducers:{initializeProfile:function(){return ze},loadProfile:function(e,t){var n=t.payload;e.profile=Object(m.Some)(n),e.submitting=!1},startSubmitting:function(e){return Object(s.a)(Object(s.a)({},e),{},{submitting:!0})}}}),Be=Ue.actions,De=Be.initializeProfile,Re=Be.loadProfile,Ve=Be.startSubmitting,Me=Ue.reducer,We={article:m.None,commentSection:{comments:m.None,commentBody:"",submittingComment:!1},metaSection:{submittingFavorite:!1,submittingFollow:!1,deletingArticle:!1}},Ye=Object(S.b)({name:"settings",initialState:We,reducers:{initializeArticlePage:function(){return We},loadArticle:function(e,t){var n=t.payload;e.article=Object(m.Some)(n),e.metaSection.submittingFavorite=!1},loadComments:function(e,t){var n=t.payload;e.commentSection.comments=Object(m.Some)(n),e.commentSection.commentBody="",e.commentSection.submittingComment=!1},updateAuthor:function(e,t){var n=t.payload;e.article=e.article.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{author:n})})),e.metaSection.submittingFollow=!1},startSubmittingFavorite:function(e){e.metaSection.submittingFavorite=!0},startSubmittingFollow:function(e){e.metaSection.submittingFollow=!0},updateCommentBody:function(e,t){var n=t.payload;e.commentSection.commentBody=n},startSubmittingComment:function(e){e.commentSection.submittingComment=!0},startDeletingArticle:function(e){e.metaSection.deletingArticle=!0}}}),Ge=Ye.actions,He=Ge.initializeArticlePage,Je=Ge.loadArticle,Ke=Ge.loadComments,qe=Ge.updateAuthor,Qe=Ge.startSubmittingFavorite,Xe=Ge.startSubmittingFollow,Ze=Ge.updateCommentBody,$e=Ge.startSubmittingComment,_e=Ge.startDeletingArticle,et=Ye.reducer,tt={serializableCheck:!1},nt=Object(S.a)({reducer:{app:P,home:R,login:K,settings:ne,register:le,editor:ye,articleViewer:Ie,profile:Me,articlePage:et},devTools:{name:"Conduit"},middleware:function(e){return e(tt)}});function rt(e){return function(){return nt.dispatch(e)}}var at=Object(f.object)({email:f.string,token:f.string,username:f.string,bio:Object(f.nullable)(f.string),image:Object(f.nullable)(f.string)});function ct(e){localStorage.setItem("token",e.token),d.a.defaults.headers.Authorization="Token ".concat(e.token),nt.dispatch(T(e))}function it(){return st.apply(this,arguments)}function st(){return(st=Object(u.a)(i.a.mark((function e(){var t,n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=Object(s.a)({limit:10,offset:0},t),e.t0=Object(f.guard)(O),e.next=5,d.a.get("articles?".concat(w(n)));case 5:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return ut.apply(this,arguments)}function ut(){return(ut=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(f.guard)(Object(f.object)({tags:Object(f.array)(f.string)})),e.next=3,d.a.get("tags");case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(u.a)(i.a.mark((function e(t,n){var r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("users/login",{user:{email:t,password:n}});case 3:return r=e.sent,a=r.data,e.abrupt("return",Object(m.Ok)(Object(f.guard)(Object(f.object)({user:at}))(a).user));case 8:return e.prev=8,e.t0=e.catch(0),c=e.t0.response.data,e.abrupt("return",Object(m.Err)(Object(f.guard)(Object(f.object)({errors:v}))(c).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function pt(){return bt.apply(this,arguments)}function bt(){return(bt=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("user");case 2:return t=e.sent,n=t.data,e.abrupt("return",Object(f.guard)(Object(f.object)({user:at}))(n).user);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return mt.apply(this,arguments)}function mt(){return(mt=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(f.guard)(Object(f.object)({article:g})),e.next=3,d.a.post("articles/".concat(t,"/favorite"));case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1).article);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e){return ht.apply(this,arguments)}function ht(){return(ht=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object(f.guard)(Object(f.object)({article:g})),e.next=3,d.a.delete("articles/".concat(t,"/favorite"));case 3:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1).article);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(u.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("user",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",Object(m.Ok)(Object(f.guard)(Object(f.object)({user:at}))(r).user));case 8:return e.prev=8,e.t0=e.catch(0),a=e.t0.data,e.abrupt("return",Object(m.Err)(Object(f.guard)(Object(f.object)({errors:v}))(a).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function xt(e){return vt.apply(this,arguments)}function vt(){return(vt=Object(u.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("users",{user:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",Object(m.Ok)(Object(f.guard)(Object(f.object)({user:at}))(r).user));case 8:return e.prev=8,e.t0=e.catch(0),a=e.t0.response.data,e.abrupt("return",Object(m.Err)(Object(f.guard)(Object(f.object)({errors:v}))(a).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function yt(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(u.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("articles",{article:t});case 3:return n=e.sent,r=n.data,e.abrupt("return",Object(m.Ok)(Object(f.guard)(Object(f.object)({article:g}))(r).article));case 8:return e.prev=8,e.t0=e.catch(0),a=e.t0.response.data,e.abrupt("return",Object(m.Err)(Object(f.guard)(Object(f.object)({errors:v}))(a).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Nt(e){return St.apply(this,arguments)}function St(){return(St=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("articles/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(f.guard)(Object(f.object)({article:g}))(r).article);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(u.a)(i.a.mark((function e(t,n){var r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("articles/".concat(t),{article:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",Object(m.Ok)(Object(f.guard)(Object(f.object)({article:g}))(a).article));case 8:return e.prev=8,e.t0=e.catch(0),c=e.t0.response.data,e.abrupt("return",Object(m.Err)(Object(f.guard)(Object(f.object)({errors:v}))(c).errors));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Ft(e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("profiles/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(f.guard)(Object(f.object)({profile:h}))(r).profile);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("profiles/".concat(t,"/follow"));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(f.guard)(Object(f.object)({profile:h}))(r).profile);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("profiles/".concat(t,"/follow"));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(f.guard)(Object(f.object)({profile:h}))(r).profile);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){return zt.apply(this,arguments)}function zt(){return(zt=Object(u.a)(i.a.mark((function e(){var t,n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=Object(s.a)({limit:10,offset:0},t),e.t0=Object(f.guard)(O),e.next=5,d.a.get("articles/feed?".concat(w(n)));case 5:return e.t1=e.sent.data,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("articles/".concat(t,"/comments"));case 2:return n=e.sent,r=n.data,e.abrupt("return",Object(f.guard)(Object(f.object)({comments:Object(f.array)(x)}))(r).comments);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("articles/".concat(t,"/comments/").concat(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(u.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("articles/".concat(t,"/comments"),{comment:{body:n}});case 2:return r=e.sent,a=r.data,e.abrupt("return",Object(f.guard)(Object(f.object)({comment:x}))(a).comment);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.delete("articles/".concat(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e,t){var n=Object(p.useState)(e(nt.getState())),r=Object(y.a)(n,2),a=r[0],c=r[1];return Object(p.useEffect)((function(){var n=nt.subscribe((function(){return c(e(nt.getState()))}));return t(),n}),[null]),a}function Ht(e){return Gt(e,(function(){}))}function Jt(e){return Object(s.a)({type:"text",placeholder:"",fieldType:"input",lg:!0},e)}d.a.defaults.baseURL="https://api.realworld.io/api/";var Kt=n(0);function qt(e){var t=e.children;return Object(Kt.jsx)("div",{className:"container page",children:Object(Kt.jsxs)("div",{className:"row",children:[" ",t," "]})})}function Qt(e){var t=e.type,n=e.placeholder,r=e.disabled,a=e.value,c=e.onChange,i=e.lg;return Object(Kt.jsx)("fieldset",{className:"form-group",children:Object(Kt.jsx)("input",{className:"form-control".concat(i?" form-control-lg":""),type:t,placeholder:n,disabled:r,value:a,onChange:c})})}function Xt(e){var t=e.type,n=e.placeholder,r=e.disabled,a=e.value,c=e.rows,i=e.onChange,s=e.lg;return Object(Kt.jsx)("fieldset",{className:"form-group",children:Object(Kt.jsx)("textarea",{className:"form-control".concat(s?" form-control-lg":""),type:t,placeholder:n,disabled:r,value:a,onChange:i,rows:c})})}function Zt(e){var t=e.type,n=e.placeholder,r=e.disabled,a=e.value,c=e.listValue,i=e.lg,s=e.onChange,o=e.onEnter,u=e.onRemoveItem;return Object(Kt.jsxs)("fieldset",{className:"form-group",children:[Object(Kt.jsx)("input",{className:"form-control".concat(i?" form-control-lg":""),type:t,placeholder:n,disabled:r,value:a,onChange:s,onKeyDown:function(e){return"Enter"===e.key&&e.preventDefault()},onKeyUp:$t(o)}),Object(Kt.jsx)("div",{className:"tag-list",children:c.map((function(e,t){return Object(Kt.jsxs)("span",{className:"tag-default tag-pill",onClick:function(){return u(t)},children:[Object(Kt.jsx)("i",{className:"ion-close-round"}),e]},e)}))})]})}function $t(e){return function(t){"Enter"===t.key&&(t.preventDefault(),e())}}function _t(e){var t=e.errors;return Object(Kt.jsx)("ul",{className:"error-messages",children:Object.entries(t).map((function(e){var t=Object(y.a)(e,2),n=t[0];return t[1].map((function(e){return Object(Kt.jsxs)("li",{children:[n," ",e]},n+e)}))}))})}var en=function(e){var t=e.fields,n=e.disabled,r=e.formObject,a=e.submitButtonText,c=e.errors,i=e.onChange,s=e.onSubmit,o=e.onAddItemToList,u=e.onRemoveListItem;return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsx)(_t,{errors:c}),Object(Kt.jsx)("form",{onSubmit:s,children:Object(Kt.jsxs)("fieldset",{children:[t.map((function(e){return"input"===e.fieldType?Object(Kt.jsx)(Qt,{disabled:n,type:e.type,placeholder:e.placeholder,value:r[e.name]||"",onChange:tn(e.name,i),lg:e.lg},e.name):"textarea"===e.fieldType?Object(Kt.jsx)(Xt,{disabled:n,type:e.type,placeholder:e.placeholder,value:r[e.name]||"",rows:e.rows,onChange:tn(e.name,i),lg:e.lg},e.name):Object(Kt.jsx)(Zt,{disabled:n,type:e.type,placeholder:e.placeholder,value:r[e.name]||"",onChange:tn(e.name,i),listValue:r[e.listName],onEnter:function(){return o&&e.listName&&o(e.listName)},onRemoveItem:function(t){return u&&e.listName&&u(e.listName,t)},lg:e.lg},e.name)})),Object(Kt.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:a})]})})]})};function tn(e,t){return function(n){var r=n.target.value;t(e,r)}}function nn(e){var t=e.onSubmit,n=Ht((function(e){return e.editor})),r=n.article,a=n.submitting,c=n.tag,i=n.errors;return Object(Kt.jsx)("div",{className:"editor-page",children:Object(Kt.jsx)(qt,{children:Object(Kt.jsx)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:Object(Kt.jsx)(en,{formObject:Object(s.a)(Object(s.a)({},r),{},{tag:c}),disabled:a,errors:i,onChange:rn,onSubmit:t,submitButtonText:"Publish Article",onAddItemToList:an,onRemoveListItem:cn,fields:[Jt({name:"title",placeholder:"Article Title"}),Jt({name:"description",placeholder:"What's this article about?",lg:!1}),Jt({name:"body",placeholder:"Write your article (in markdown)",fieldType:"textarea",rows:8,lg:!1}),Jt({name:"tag",placeholder:"Enter Tags",listName:"tagList",fieldType:"list",lg:!1})]})})})})}function rn(e,t){nt.dispatch(fe({name:e,value:t}))}function an(){nt.dispatch(ge())}function cn(e,t){nt.dispatch(Oe(t))}function sn(){var e=Object(j.h)().slug,t=Ht((function(e){return e.editor})).loading;return Object(p.useEffect)((function(){!function(e){on.apply(this,arguments)}(e)}),[e]),Object(Kt.jsx)(p.Fragment,{children:!t&&Object(Kt.jsx)(nn,{onSubmit:un(e)})})}function on(){return(on=Object(u.a)(i.a.mark((function e(t){var n,r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(me()),e.prev=1,e.next=4,Nt(t);case 4:if(n=e.sent,r=n.title,a=n.description,c=n.body,s=n.tagList,n.author.username===nt.getState().app.user.unwrap().username){e.next=13;break}return location.hash="#/",e.abrupt("return");case 13:nt.dispatch(ve({title:r,description:a,body:c,tagList:s})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),location.hash="#/";case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function un(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),nt.dispatch(he()),t.next=4,kt(e,nt.getState().editor.article);case 4:t.sent.match({err:function(e){return nt.dispatch(xe(e))},ok:function(e){var t=e.slug;location.hash="#/article/".concat(t)}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ln(){return Object(Kt.jsx)("footer",{children:Object(Kt.jsxs)("div",{className:"container",children:[Object(Kt.jsx)("a",{href:"/#/",className:"logo-font",children:"conduit"}),Object(Kt.jsxs)("span",{className:"attribution",children:["An interactive learning project from ",Object(Kt.jsx)("a",{href:"https://thinkster.io",children:"Thinkster"}),". Code & design licensed under MIT."]})]})})}function dn(){var e=Ht((function(e){return e.app})).user;return Object(Kt.jsx)("nav",{className:"navbar navbar-light",children:Object(Kt.jsxs)("div",{className:"container",children:[Object(Kt.jsx)("a",{className:"navbar-brand",href:"/#/",children:"conduit"}),Object(Kt.jsx)("ul",{className:"nav navbar-nav pull-xs-right",children:Object(Kt.jsxs)(b.a,{children:[Object(Kt.jsx)(pn,{text:"Home",href:"/"}),e.match({none:function(){return Object(Kt.jsx)(bn,{})},some:function(e){return Object(Kt.jsx)(jn,{user:e})}})]})})]})})}function pn(e){var t=e.text,n=e.href,r=e.icon;return Object(Kt.jsx)("li",{className:"nav-item",children:Object(Kt.jsxs)(b.c,{exact:!0,to:n,activeClassName:"active",className:"nav-link",children:[r&&Object(Kt.jsx)("i",{className:r}),"\xa0",t]})})}function bn(){return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsx)(pn,{text:"Sign in",href:"/login"}),Object(Kt.jsx)(pn,{text:"Sign up",href:"/register"})]})}function jn(e){var t=e.user.username;return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsx)(pn,{text:"New Article",href:"/editor",icon:"ion-compose"}),Object(Kt.jsx)(pn,{text:"Settings",href:"/settings",icon:"ion-gear-a"}),Object(Kt.jsx)(pn,{text:"".concat(t),href:"/profile/".concat(t)})]})}var mn=n(58);function fn(e){return Object.entries(e).filter((function(e){return Object(y.a)(e,2)[1]})).map((function(e){return Object(y.a)(e,1)[0]})).join(" ")}var hn=n(109);function gn(e){var t=e.article,n=t.createdAt,r=t.favorited,a=t.favoritesCount,c=t.slug,i=t.title,s=t.description,o=t.tagList,u=t.author,l=u.image,d=u.username,p=e.isSubmitting,j=e.onFavoriteToggle;return Object(Kt.jsxs)("div",{className:"article-preview",children:[Object(Kt.jsxs)("div",{className:"article-meta",children:[Object(Kt.jsx)(b.b,{to:"/profile/".concat(d),className:"author",children:Object(Kt.jsx)("img",{src:l||void 0})}),Object(Kt.jsxs)("div",{className:"info",children:[Object(Kt.jsx)(b.b,{to:"/profile/".concat(d),className:"author",children:d}),Object(Kt.jsx)("span",{className:"date",children:Object(hn.a)(n,"PP")})]}),Object(Kt.jsxs)("button",{className:"btn btn-sm pull-xs-right ".concat(r?"btn-primary":"btn-outline-primary"),"aria-label":"Toggle Favorite",disabled:p,onClick:j,children:[Object(Kt.jsx)("i",{className:"ion-heart"})," ",a]})]}),Object(Kt.jsxs)("a",{href:"/#/article/".concat(c),className:"preview-link",children:[Object(Kt.jsx)("h1",{children:i}),Object(Kt.jsx)("p",{children:s}),Object(Kt.jsx)("span",{children:"Read more..."}),Object(Kt.jsx)(On,{tagList:o})]})]})}function On(e){var t=e.tagList;return Object(Kt.jsx)("ul",{className:"tag-list",children:t.map((function(e){return Object(Kt.jsx)("li",{className:"tag-default tag-pill tag-outline",children:e},e)}))})}var xn=n(111);function vn(e){var t=e.currentPage,n=e.count,r=e.itemsPerPage,a=e.onPageChange;return Object(Kt.jsx)("nav",{children:Object(Kt.jsx)("ul",{className:"pagination",children:Math.ceil(n/r)>1&&Object(xn.a)(1,Math.ceil(n/r)+1).map((function(e){return Object(Kt.jsx)("li",{className:"page-item".concat(t!==e?"":" active"),onClick:a&&function(){return a(e)},children:Object(Kt.jsx)("a",{className:"page-link","aria-label":"Go to page number ".concat(e),href:"#",children:e})},e)}))})})}function yn(e){var t=e.toggleClassName,n=e.tabs,r=e.selectedTab,a=e.onPageChange,c=e.onTabChange,i=Ht((function(e){return e.articleViewer})),s=i.articles,o=i.articlesCount,u=i.currentPage;return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsx)(wn,{tabs:n,selectedTab:r,toggleClassName:t,onTabChange:c}),Object(Kt.jsx)(Sn,{articles:s}),Object(Kt.jsx)(vn,{currentPage:u,count:o,itemsPerPage:10,onPageChange:a})]})}function wn(e){var t=e.tabs,n=e.toggleClassName,r=e.selectedTab,a=e.onTabChange;return Object(Kt.jsx)("div",{className:n,children:Object(Kt.jsx)("ul",{className:"nav nav-pills outline-active",children:t.map((function(e){return Object(Kt.jsx)(Nn,{tab:e,active:e===r,onClick:function(){return a&&a(e)}},e)}))})})}function Nn(e){var t=e.tab,n=e.active,r=e.onClick;return Object(Kt.jsx)("li",{className:"nav-item",children:Object(Kt.jsx)("a",{className:fn({"nav-link":!0,active:n}),href:"#",onClick:function(e){e.preventDefault(),r()},children:t})})}function Sn(e){return e.articles.match({none:function(){return Object(Kt.jsx)("div",{className:"article-preview",children:"Loading articles..."},1)},some:function(e){return Object(Kt.jsxs)(p.Fragment,{children:[0===e.length&&Object(Kt.jsx)("div",{className:"article-preview",children:"No articles are here... yet."},1),e.map((function(e,t){var n=e.article,r=e.isSubmitting;return Object(Kt.jsx)(gn,{article:n,isSubmitting:r,onFavoriteToggle:r?void 0:kn(t,n)},n.slug)}))]})}})}function kn(e,t){var n=t.slug,r=t.favorited;return Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!nt.getState().app.user.isNone()){t.next=3;break}return location.hash="#/login",t.abrupt("return");case 3:return nt.dispatch(Le(e)),t.next=6,r?ft(n):jt(n);case 6:a=t.sent,nt.dispatch(Pe({index:e,article:a}));case 8:case"end":return t.stop()}}),t)})))}function Cn(){var e=Gt((function(e){return e.home}),Fn),t=e.tags,n=e.selectedTab;return Object(Kt.jsxs)("div",{className:"home-page",children:[Object(Kt.jsx)("div",{className:"banner",children:Object(Kt.jsxs)("div",{className:"container",children:[Object(Kt.jsx)("h1",{className:"logo-font",children:"conduit"}),Object(Kt.jsx)("p",{children:"A place to share your knowledge."})]})}),Object(Kt.jsxs)(qt,{children:[Object(Kt.jsx)("div",{className:"col-md-9",children:Object(Kt.jsx)(yn,{toggleClassName:"feed-toggle",selectedTab:n,tabs:An(n),onPageChange:Ln,onTabChange:En})}),Object(Kt.jsx)("div",{className:"col-md-3",children:Object(Kt.jsx)(Bn,{tags:t})})]})]})}function Fn(){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(Te()),nt.dispatch(U()),nt.getState().app.user.isSome()&&nt.dispatch(D("Your Feed")),e.next=5,zn();case 5:return t=e.sent,nt.dispatch(Ae(t)),e.next=9,ot();case 9:n=e.sent,nt.dispatch(B(n.tags));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e){var t=nt.getState().app.user;return Array.from(new Set([].concat(Object(mn.a)(t.isSome()?["Your Feed"]:[]),["Global Feed",e])))}function Ln(e){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(Ee(t)),e.next=3,zn({offset:10*(t-1)});case 3:n=e.sent,nt.dispatch(Ae(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(e){return In.apply(this,arguments)}function In(){return(In=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(D(t)),nt.dispatch(Te()),e.next=4,zn();case 4:n=e.sent,nt.dispatch(Ae(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(){return Un.apply(this,arguments)}function Un(){return(Un=Object(u.a)(i.a.mark((function e(){var t,n,r,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=nt.getState().home.selectedTab,r=Object(s.a)(Object(s.a)({},t),{},{tag:n.slice(2)}),e.next=5,("Your Feed"===n?It:it)(n.startsWith("#")?r:t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e){var t=e.tags;return Object(Kt.jsxs)("div",{className:"sidebar",children:[Object(Kt.jsx)("p",{children:"Popular Tags"}),t.match({none:function(){return Object(Kt.jsx)("span",{children:"Loading tags..."})},some:function(e){return Object(Kt.jsxs)("div",{className:"tag-list",children:[" ",e.map((function(e){return Object(Kt.jsx)("a",{href:"#",className:"tag-pill tag-default",onClick:function(){return En("# ".concat(e))},children:e},e)}))," "]})}})]})}function Dn(){var e=Gt((function(e){return e.login}),rt(Y())),t=e.errors,n=e.loginIn,r=e.user;return Object(Kt.jsx)("div",{className:"auth-page",children:Object(Kt.jsx)(qt,{children:Object(Kt.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(Kt.jsx)("h1",{className:"text-xs-center",children:"Sign in"}),Object(Kt.jsx)("p",{className:"text-xs-center",children:Object(Kt.jsx)("a",{href:"/#/register",children:"Need an account?"})}),Object(Kt.jsx)(en,{disabled:n,formObject:r,submitButtonText:"Sign in",errors:t,onChange:Rn,onSubmit:Vn,fields:[Jt({name:"email",placeholder:"Email"}),Jt({name:"password",placeholder:"Password",type:"password"})]})]})})})}function Rn(e,t){nt.dispatch(G({name:e,value:t}))}function Vn(e){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(u.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!nt.getState().login.loginIn){e.next=3;break}return e.abrupt("return");case 3:return nt.dispatch(J()),n=nt.getState().login.user,r=n.email,a=n.password,e.next=7,lt(r,a);case 7:e.sent.match({ok:function(e){location.hash="#/",ct(e)},err:function(e){nt.dispatch(H(e))}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wn(){return Object(p.useEffect)((function(){nt.dispatch(me())}),[null]),Object(Kt.jsx)(nn,{onSubmit:Yn})}function Yn(e){return Gn.apply(this,arguments)}function Gn(){return(Gn=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),nt.dispatch(he()),e.next=4,yt(nt.getState().editor.article);case 4:e.sent.match({err:function(e){return nt.dispatch(xe(e))},ok:function(e){var t=e.slug;location.hash="#/article/".concat(t)}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(){var e=Gt((function(e){return e.register}),rt(ie())),t=e.errors,n=e.signingUp,r=e.user;return Object(Kt.jsx)("div",{className:"auth-page",children:Object(Kt.jsx)(qt,{children:Object(Kt.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(Kt.jsx)("h1",{className:"text-xs-center",children:"Sign up"}),Object(Kt.jsx)("p",{className:"text-xs-center",children:Object(Kt.jsx)("a",{href:"/#/login",children:"Have an account?"})}),Object(Kt.jsx)(en,{disabled:n,formObject:r,submitButtonText:"Sign up",errors:t,onChange:Jn,onSubmit:Kn(r),fields:[Jt({name:"username",placeholder:"Username"}),Jt({name:"email",placeholder:"Email"}),Jt({name:"password",placeholder:"Password",type:"password"})]})]})})})}function Jn(e,t){nt.dispatch(se({name:e,value:t}))}function Kn(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),nt.dispatch(ue()),t.next=4,xt(e);case 4:t.sent.match({err:function(e){return nt.dispatch(oe(e))},ok:function(e){location.hash="#/",ct(e)}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function qn(){var e=Ht((function(e){return e.settings})),t=e.user,n=e.errors,r=e.updating;return Object(Kt.jsx)("div",{className:"settings-page",children:Object(Kt.jsx)(qt,{children:Object(Kt.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(Kt.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),Object(Kt.jsx)(en,{disabled:r,formObject:Object(s.a)({},t),submitButtonText:"Update Settings",errors:n,onChange:Qn,onSubmit:Xn(t),fields:[Jt({name:"image",placeholder:"URL of profile picture"}),Jt({name:"username",placeholder:"Your Name"}),Jt({name:"bio",placeholder:"Short bio about you",rows:8,fieldType:"textarea"}),Jt({name:"email",placeholder:"Email"}),Jt({name:"password",placeholder:"Password",type:"password"})]}),Object(Kt.jsx)("hr",{}),Object(Kt.jsx)("button",{className:"btn btn-outline-danger",onClick:Zn,children:"Or click here to logout."})]})})})}function Qn(e,t){nt.dispatch(_({name:e,value:t}))}function Xn(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),nt.dispatch(te()),t.next=4,gt(e);case 4:t.sent.match({err:function(e){return nt.dispatch(ee(e))},ok:function(e){nt.dispatch(T(e)),location.hash="/"}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Zn(){delete d.a.defaults.headers.Authorization,localStorage.removeItem("token"),nt.dispatch(A()),location.hash="/"}function $n(e){location.hash="#/".concat(e)}function _n(e){var t=e.user,n=t.image,r=t.username,a=t.bio,c=t.following,i=e.disabled,s=e.onFollowToggle,o=e.onEditSettings,u=Ht((function(e){return e.app})).user.map((function(e){return e.username})).unwrapOr("");return Object(Kt.jsx)("div",{className:"user-info",children:Object(Kt.jsx)("div",{className:"container",children:Object(Kt.jsx)("div",{className:"row",children:Object(Kt.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(Kt.jsx)("img",{src:n||void 0,className:"user-img"}),Object(Kt.jsx)("h4",{children:r}),Object(Kt.jsx)("p",{children:a}),u===r?Object(Kt.jsx)(tr,{onClick:o,disabled:i}):Object(Kt.jsx)(er,{following:c,username:r,disabled:i,onClick:s})]})})})})}function er(e){var t=e.following,n=e.username,r=e.disabled,a=e.onClick;return Object(Kt.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",onClick:a,disabled:r,children:[Object(Kt.jsx)("i",{className:"ion-plus-round"}),"\xa0",t?" Unfollow":" Follow"," ",n]})}function tr(e){var t=e.disabled,n=e.onClick;return Object(Kt.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",onClick:n,disabled:t,children:[Object(Kt.jsx)("i",{className:"ion-gear-a"}),"\xa0 Edit Profile Settings"]})}function nr(){var e=Object(j.h)().username,t=Object(j.g)().pathname.endsWith("favorites");Object(p.useEffect)((function(){!function(e,t){rr.apply(this,arguments)}(e,t)}),[e]);var n=Ht((function(e){return e.profile})),r=n.profile,a=n.submitting;return Object(Kt.jsxs)("div",{className:"profile-page",children:[r.match({none:function(){return Object(Kt.jsx)("div",{className:"article-preview",children:"Loading profile..."},1)},some:function(e){return Object(Kt.jsx)(_n,{user:e,disabled:a,onFollowToggle:ir(e),onEditSettings:function(){return $n("settings")}})}}),Object(Kt.jsx)("div",{className:"container",children:Object(Kt.jsx)("div",{className:"row",children:Object(Kt.jsx)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:Object(Kt.jsx)(yn,{toggleClassName:"articles-toggle",tabs:["My Articles","Favorited Articles"],selectedTab:t?"Favorited Articles":"My Articles",onTabChange:sr(e),onPageChange:or(e,t)})})})})]})}function rr(){return(rr=Object(u.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(De()),nt.dispatch(Te()),e.prev=2,e.next=5,Ft(t);case 5:return r=e.sent,nt.dispatch(Re(r)),e.next=9,ar(t,n);case 9:a=e.sent,nt.dispatch(Ae(a)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),location.href="#/";case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function ar(e,t){return cr.apply(this,arguments)}function cr(){return(cr=Object(u.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nt.getState().articleViewer.currentPage,e.next=3,it((r={},Object(q.a)(r,n?"favorited":"author",t),Object(q.a)(r,"offset",10*(a-1)),r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e){return Object(u.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!nt.getState().app.user.isNone()){t.next=4;break}return $n("register"),t.abrupt("return");case 4:return nt.dispatch(Ve()),t.next=7,(e.following?Pt:At)(e.username);case 7:n=t.sent,nt.dispatch(Re(n));case 9:case"end":return t.stop()}}),t)})))}function sr(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="Favorited Articles"===n,location.hash="#/profile/".concat(e).concat(r?"/favorites":""),nt.dispatch(Te()),t.t0=nt,t.t1=Ae,t.next=7,ar(e,r);case 7:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),t.t0.dispatch.call(t.t0,t.t3);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function or(e,t){return function(){var n=Object(u.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return nt.dispatch(Ee(r)),n.t0=nt,n.t1=Ae,n.next=5,ar(e,t);case 5:n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.t0.dispatch.call(n.t0,n.t3);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function ur(){var e=Object(j.h)().slug,t=Ht((function(e){return{articlePage:e.articlePage,app:e.app}})),n=t.articlePage,r=n.article,a=n.commentSection,c=n.metaSection,i=t.app.user;return Object(p.useEffect)((function(){!function(e){lr.apply(this,arguments)}(e)}),[e]),r.match({none:function(){return Object(Kt.jsx)("div",{children:"Loading article..."})},some:function(e){return Object(Kt.jsxs)("div",{className:"article-page",children:[Object(Kt.jsx)(dr,{article:e,metaSection:c,user:i}),Object(Kt.jsxs)("div",{className:"container page",children:[Object(Kt.jsxs)("div",{className:"row article-content",children:[Object(Kt.jsx)("div",{className:"col-md-12",children:e.body}),Object(Kt.jsx)(On,{tagList:e.tagList})]}),Object(Kt.jsx)("hr",{}),Object(Kt.jsx)("div",{className:"article-actions",children:Object(Kt.jsx)(pr,{article:e,metaSection:c,user:i})}),Object(Kt.jsx)(Or,{user:i,commentSection:a,article:e})]})]})}})}function lr(){return(lr=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(He()),e.prev=1,e.next=4,Nt(t);case 4:return n=e.sent,nt.dispatch(Je(n)),e.next=8,Ut(t);case 8:r=e.sent,nt.dispatch(Ke(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),$n("");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function dr(e){return Object(Kt.jsx)("div",{className:"banner",children:Object(Kt.jsxs)("div",{className:"container",children:[Object(Kt.jsx)("h1",{children:e.article.title}),Object(Kt.jsx)(pr,Object(s.a)({},e))]})})}function pr(e){var t=e.article,n=e.metaSection,r=n.submittingFavorite,a=n.submittingFollow,c=n.deletingArticle,i=e.user;return Object(Kt.jsxs)("div",{className:"article-meta",children:[Object(Kt.jsx)(br,{article:t}),i.isSome()&&i.unwrap().username===t.author.username?Object(Kt.jsx)(hr,{article:t,deletingArticle:c}):Object(Kt.jsx)(jr,{article:t,submittingFavorite:r,submittingFollow:a})]})}function br(e){var t=e.article,n=t.author,r=n.username,a=n.image,c=t.createdAt;return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsx)(b.b,{to:"/profile/".concat(r),children:Object(Kt.jsx)("img",{src:a||void 0})}),Object(Kt.jsxs)("div",{className:"info",children:[Object(Kt.jsx)(b.b,{className:"author",to:"/profile/".concat(r),children:r}),Object(Kt.jsx)("span",{className:"date",children:Object(hn.a)(c,"PP")})]})]})}function jr(e){var t=e.article,n=t.slug,r=t.favoritesCount,a=t.favorited,c=t.author,i=c.username,s=c.following,o=e.submittingFavorite,u=e.submittingFollow;return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsxs)("button",{className:fn({btn:!0,"btn-sm":!0,"btn-outline-secondary":!s,"btn-secondary":s}),disabled:u,onClick:function(){return function(e,t){return mr.apply(this,arguments)}(i,s)},children:[Object(Kt.jsx)("i",{className:"ion-plus-round"}),"\xa0 ",(s?"Unfollow ":"Follow ")+i]}),"\xa0",Object(Kt.jsxs)("button",{className:fn({btn:!0,"btn-sm":!0,"btn-outline-primary":!a,"btn-primary":a}),disabled:o,onClick:function(){return function(e,t){return fr.apply(this,arguments)}(n,a)},children:[Object(Kt.jsx)("i",{className:"ion-heart"}),"\xa0 ",(a?"Unfavorite ":"Favorite ")+"Article",Object(Kt.jsxs)("span",{className:"counter",children:["(",r,")"]})]})]})}function mr(){return(mr=Object(u.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nt.getState().app.user.isNone()){e.next=3;break}return $n("register"),e.abrupt("return");case 3:return nt.dispatch(Xe()),e.next=6,(n?Pt:At)(t);case 6:r=e.sent,nt.dispatch(qe(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(){return(fr=Object(u.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nt.getState().app.user.isNone()){e.next=3;break}return $n("register"),e.abrupt("return");case 3:return nt.dispatch(Qe()),e.next=6,(n?ft:jt)(t);case 6:r=e.sent,nt.dispatch(Je(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(e){var t=e.article.slug,n=e.deletingArticle;return Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return $n("editor/".concat(t))},children:[Object(Kt.jsx)("i",{className:"ion-plus-round"}),"\xa0 Edit Article"]}),"\xa0",Object(Kt.jsxs)("button",{className:"btn btn-outline-danger btn-sm",disabled:n,onClick:function(){return function(e){return gr.apply(this,arguments)}(t)},children:[Object(Kt.jsx)("i",{className:"ion-heart"}),"\xa0 Delete Article"]})]})}function gr(){return(gr=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt.dispatch(_e()),e.next=3,Wt(t);case 3:$n("");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Or(e){var t=e.user,n=e.article,r=e.commentSection,a=r.submittingComment,c=r.commentBody,i=r.comments;return Object(Kt.jsx)("div",{className:"row",children:Object(Kt.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[t.match({none:function(){return Object(Kt.jsxs)("p",{style:{display:"inherit"},children:[Object(Kt.jsx)(b.b,{to:"/login",children:"Sign in"})," or ",Object(Kt.jsx)(b.b,{to:"/register",children:"sign up"})," to add comments on this article."]})},some:function(e){return Object(Kt.jsx)(xr,{user:e,slug:n.slug,submittingComment:a,commentBody:c})}}),i.match({none:function(){return Object(Kt.jsx)("div",{children:"Loading comments..."})},some:function(e){return Object(Kt.jsx)(p.Fragment,{children:e.map((function(e,r){return Object(Kt.jsx)(wr,{comment:e,slug:n.slug,user:t,index:r},e.id)}))})}})]})})}function xr(e){var t=e.user.image,n=e.commentBody,r=e.slug,a=e.submittingComment;return Object(Kt.jsxs)("form",{className:"card comment-form",onSubmit:yr(r,n),children:[Object(Kt.jsx)("div",{className:"card-block",children:Object(Kt.jsx)("textarea",{className:"form-control",placeholder:"Write a comment...",rows:3,onChange:vr,value:n})}),Object(Kt.jsxs)("div",{className:"card-footer",children:[Object(Kt.jsx)("img",{src:t||void 0,className:"comment-author-img"}),Object(Kt.jsx)("button",{className:"btn btn-sm btn-primary",disabled:a,children:"Post Comment"})]})]})}function vr(e){nt.dispatch(Ze(e.target.value))}function yr(e,t){return function(){var n=Object(u.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),nt.dispatch($e()),n.next=4,Vt(e,t);case 4:return n.t0=nt,n.t1=Ke,n.next=8,Ut(e);case 8:n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.t0.dispatch.call(n.t0,n.t3);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function wr(e){var t=e.comment,n=t.id,r=t.body,a=t.createdAt,c=t.author,i=c.username,s=c.image,o=e.slug,u=e.index,l=e.user;return Object(Kt.jsxs)("div",{className:"card",children:[Object(Kt.jsx)("div",{className:"card-block",children:Object(Kt.jsx)("p",{className:"card-text",children:r})}),Object(Kt.jsxs)("div",{className:"card-footer",children:[Object(Kt.jsx)(b.b,{className:"comment-author",to:"/profile/".concat(i),children:Object(Kt.jsx)("img",{src:s||void 0,className:"comment-author-img"})}),"\xa0",Object(Kt.jsx)(b.b,{className:"comment-author",to:"/profile/".concat(i),children:i}),Object(Kt.jsx)("span",{className:"date-posted",children:Object(hn.a)(a,"PP")}),l.isSome()&&l.unwrap().username===i&&Object(Kt.jsx)("span",{className:"mod-options",children:Object(Kt.jsx)("i",{className:"ion-trash-a","aria-label":"Delete comment ".concat(u+1),onClick:function(){return function(e,t){return Nr.apply(this,arguments)}(o,n)}})})]})]})}function Nr(){return(Nr=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt(t,n);case 2:return e.t0=nt,e.t1=Ke,e.next=6,Ut(t);case 6:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.dispatch.call(e.t0,e.t3);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sr=["children","userIsLogged"],kr=["children","userIsLogged"];function Cr(){var e=Gt((function(e){return e.app}),Fr),t=e.loading,n=e.user.isSome();return Object(Kt.jsx)(b.a,{children:!t&&Object(Kt.jsxs)(p.Fragment,{children:[Object(Kt.jsx)(dn,{}),Object(Kt.jsxs)(j.d,{children:[Object(Kt.jsx)(Ar,{exact:!0,path:"/login",userIsLogged:n,children:Object(Kt.jsx)(Dn,{})}),Object(Kt.jsx)(Ar,{exact:!0,path:"/register",userIsLogged:n,children:Object(Kt.jsx)(Hn,{})}),Object(Kt.jsx)(Lr,{exact:!0,path:"/settings",userIsLogged:n,children:Object(Kt.jsx)(qn,{})}),Object(Kt.jsx)(Lr,{exact:!0,path:"/editor",userIsLogged:n,children:Object(Kt.jsx)(Wn,{})}),Object(Kt.jsx)(Lr,{exact:!0,path:"/editor/:slug",userIsLogged:n,children:Object(Kt.jsx)(sn,{})}),Object(Kt.jsx)(j.b,{path:"/profile/:username",children:Object(Kt.jsx)(nr,{})}),Object(Kt.jsx)(j.b,{path:"/article/:slug",children:Object(Kt.jsx)(ur,{})}),Object(Kt.jsx)(j.b,{exact:!0,path:"/",children:Object(Kt.jsx)(Cn,{})}),Object(Kt.jsx)(j.b,{path:"*",children:Object(Kt.jsx)(j.a,{to:"/"})})]}),Object(Kt.jsx)(ln,{})]})})}function Fr(){return Tr.apply(this,arguments)}function Tr(){return(Tr=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),nt.getState().app.loading&&t){e.next=4;break}return nt.dispatch(L()),e.abrupt("return");case 4:return d.a.defaults.headers.Authorization="Token ".concat(t),e.prev=5,e.t0=nt,e.t1=T,e.next=10,pt();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.dispatch.call(e.t0,e.t3),e.next=18;break;case 15:e.prev=15,e.t4=e.catch(5),nt.dispatch(L());case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function Ar(e){var t=e.children,n=e.userIsLogged,r=Object(o.a)(e,Sr);return Object(Kt.jsxs)(j.b,Object(s.a)(Object(s.a)({},r),{},{children:[t,n&&Object(Kt.jsx)(j.a,{to:"/"})]}))}function Lr(e){var t=e.children,n=e.userIsLogged,r=Object(o.a)(e,kr);return Object(Kt.jsxs)(j.b,Object(s.a)(Object(s.a)({},r),{},{children:[t,!n&&Object(Kt.jsx)(j.a,{to:"/"})]}))}a.a.render(Object(Kt.jsx)(Cr,{}),document.getElementById("root"))},65:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.23cb1f48.chunk.js.map